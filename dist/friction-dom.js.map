{"version":3,"file":"friction-dom.js","sources":["../src/lib/Surface.js","../src/lib/utils.js","../src/lib/FrictionDOM.js","../src/lib/SurfaceObject.js"],"sourcesContent":["export class Surface {\n  constructor(element, options) {\n    this.element = element;\n    this.surfaceObjects = [];\n    this.options = {\n      scale: 526, // how many px represent 1 meter\n      boundarySpring: 0.16, // spring constant N/m\n      boundarySpringDamping: 5, // N/meters/sec damping coefficient\n      boundaryPullSpring: 0.08, // spring constant N/m\n      overshoot: 0, // percentage of overshoot for programatic animations\n      paddingMinX: 0,\n      paddingMinY: 0,\n      paddingMaxX: 0,\n      paddingMaxY: 0,\n      ...(options || {}), // allow overriding defaults\n    }\n\n    this.setEdges();\n\n    window.addEventListener('resize', this.setEdges.bind(this));\n  }\n\n  getOrCall(variable) {\n    if (typeof(variable) === 'function') return variable();\n    return variable;\n  }\n\n  setEdges() {\n    const { paddingMinX, paddingMinY, paddingMaxX, paddingMaxY } = this.options;\n    this.minX = 0 + this.getOrCall(paddingMinX);\n    this.minY = 0 + this.getOrCall(paddingMinY);\n\n    if (this.element === window) {\n      this.maxX = window.innerWidth;\n      this.maxY = window.innerHeight;\n    } else {\n      this.maxX = this.element.offsetWidth;\n      this.maxY = this.element.offsetHeight;\n    }\n\n    this.maxX -= this.getOrCall(paddingMaxX);\n    this.maxY -= this.getOrCall(paddingMaxY);\n\n    this.surfaceObjects.forEach(obj => {\n      obj.goto(obj.closestSettlePoint(), 0);\n    });\n  }\n\n  get minX() { return this._minX; }\n  set minX(x) { this._minX = x; }\n  get minY() { return this._minY; }\n  set minY(y) { this._minY = y; }\n  get maxX() { return this._maxX; }\n  set maxX(x) { this._maxX = x; }\n  get maxY() { return this._maxY; }\n  set maxY(y) { this._maxY = y; }\n}","export const gravity = 9.8; // meters/sec/sec\n\nexport function toMeters(px, scale) { return px / scale };\nexport function toPixels(meters, scale) { return meters * scale };\nexport function toSeconds(milli) { return milli / 1000 }; // for verbosity...\n","import {toSeconds} from './utils';\n\nexport class FrictionDOM {\n  constructor() {\n    this.cursor = {x: 0, y: 0};\n    this.cursorLast = {...this.cursor};\n\n    this.rafStart = undefined;\n    this.rafLast = undefined;\n    this.raf = undefined;\n\n    this.draggingSurfaceObjects = [];\n    this.activeSurfaceObjects = [];\n\n    document.addEventListener('mousemove', this.move.bind(this));\n    document.addEventListener('touchmove', this.move.bind(this));\n\n    document.addEventListener('mouseup', this.endMove.bind(this));\n    document.addEventListener('touchend', this.endMove.bind(this));\n  }\n\n  addActiveSurfaceObject(obj) {\n    const found = this.activeSurfaceObjects.indexOf(obj) > -1;\n    if (!found) this.activeSurfaceObjects.push(obj);\n  }\n\n  addDraggingSurfaceObjects(obj) {\n    const found = this.draggingSurfaceObjects.indexOf(obj) > -1;\n    if (!found) this.draggingSurfaceObjects.push(obj);\n  }\n\n  beginMotion(withObject) {\n    this.rafStart = toSeconds(performance.now());\n    this.rafLast = toSeconds(performance.now());\n\n    withObject && this.addActiveSurfaceObject(withObject);\n\n    window.cancelAnimationFrame(this.raf);\n    this.raf = window.requestAnimationFrame(this.updateMotion.bind(this));\n  }\n\n  updateMotion() {\n    if (this.activeSurfaceObjects.length === 0) return;\n\n    const time = toSeconds(performance.now());\n    const timeDelta = time - this.rafLast;\n\n    for (let i = this.activeSurfaceObjects.length - 1; i >= 0; i--) {\n      this.activeSurfaceObjects[i].updateMotion(timeDelta);\n      if (this.activeSurfaceObjects[i].settled) {\n        this.activeSurfaceObjects.splice(i, 1);\n      }\n    }\n\n    this.cursorLast.x = this.cursor.x;\n    this.cursorLast.y = this.cursor.y;\n\n    this.rafLast = time;\n    this.raf = window.requestAnimationFrame(this.updateMotion.bind(this))\n  }\n\n  startMove(event, surfaceObject) {\n    this.addDraggingSurfaceObjects(surfaceObject);\n    this.addActiveSurfaceObject(surfaceObject);\n\n    if (event.targetTouches) {\n      this.cursor.x = undefined;\n      this.cursor.y = undefined;\n      this.cursorLast.x = undefined;\n      this.cursorLast.y = undefined;\n    } else {\n      this.cursorLast.x = this.cursor.x;\n      this.cursorLast.y = this.cursor.y;\n    }\n\n    this.beginMotion();\n  }\n\n  move(event) {\n    if (event.targetTouches) {\n      const {screenX, screenY} = event.targetTouches[0];\n      this.cursor.x = screenX;\n      this.cursor.y = screenY;\n    } else {\n      this.cursor.x = event.clientX;\n      this.cursor.y = event.clientY;\n    }\n  }\n\n  endMove(event) {\n    for (let i = this.draggingSurfaceObjects.length - 1; i >= 0; i--) {\n      this.draggingSurfaceObjects[i].endMove(event);\n      this.draggingSurfaceObjects.splice(i, 0);\n    }\n  }\n}\n\n// this is an internal export\nexport const app = new FrictionDOM();","import {app} from './FrictionDOM';\nimport {toMeters, toPixels, gravity} from './utils';\n\nexport class SurfaceObject {\n  constructor(element, surface, options) {\n    this.positionCallbacks = [];\n\n    this.surface = surface;\n    this.surface.surfaceObjects.push(this);\n\n    this.element = element;\n    this.element.style.position = surface.element === window ? 'fixed' : 'relative';\n\n    this.options = {\n      mass: 0.17, // kg\n      friction: 0.15, // kinetic friction of rubber and ice\n      axis: 'x,y',\n      contained: true,\n      nudgeThreshold: 0, // at what threshold should we nugle the object to an edge (don't let it float)\n      ...(options || {}), // allow overriding defaults\n    }\n\n    const axisState = {\n      acceleration: 0, // meters/sec/sec\n      velocity: 0, // meters/sec\n      position: 0, // relative position in pixels\n      settled: true,\n      hittingMin: false,\n      hittingMax: false,\n      occilationAmplitudes: [],\n    }\n\n    this.x = {...axisState};\n    this.y = {...axisState};\n\n    this.positionx = this.x.position + this.minEdge.x;\n    this.positiony = this.y.position + this.minEdge.y;\n\n    this.dragging = false;\n\n    this.element.addEventListener('mousedown', this.startMove.bind(this));\n    this.element.addEventListener('touchstart', this.startMove.bind(this));\n\n    this.boundaryCallbacks = {\n      'x-min': [],\n      'x-max': [],\n      'y-min': [],\n      'y-max': [],\n    };\n  }\n\n  get minEdge() {\n    return {\n      x: this.surface.minX,\n      y: this.surface.minY,\n    };\n  }\n\n  get maxEdge() {\n    const { contained } = this.options;\n\n    return {\n      x: this.surface.maxX - (contained ? this.element.offsetWidth : 0),\n      y: this.surface.maxY - (contained ? this.element.offsetHeight : 0),\n    };\n  }\n\n  get dragging() { return this._dragging; }\n  set dragging(d) {\n    this._dragging = d; this.element.style.cursor = d ? 'grabbing' : 'grab';\n  }\n\n  get positionx() { return this.x.position; }\n  set positionx(p) { this.x.position = p; this.element.style.left = p + 'px'; this.callPositionCallbacks(); }\n\n  get positiony() { return this.y.position; }\n  set positiony(p) { this.y.position = p; this.element.style.top = p + 'px'; this.callPositionCallbacks(); }\n\n  get settled() { return this.x.settled && this.y.settled; }\n\n  get axis() { return this.options.axis.split(','); }\n\n  resetAxis(axis) {\n    this[axis].settled = false;\n    this[axis].hittingMin = false;\n    this[axis].hittingMax = false;\n    this[axis].occilationAmplitudes = [];\n  }\n\n  startMove(event) {\n    app.startMove(event, this);\n\n    this.axis.forEach(axis => {\n      this.resetAxis(axis);\n    });\n\n    this.dragging = true;\n  }\n\n  closestSettlePoint() {\n    const settlePoint = [];\n    this.axis.forEach(axis => {\n      const { position } = this[axis];\n      if (position < this.minEdge[axis]) {\n        settlePoint.push(`${axis}-min`);\n      }\n\n      if (position > this.maxEdge[axis]) {\n        settlePoint.push(`${axis}-max`);\n      }\n    });\n\n    return settlePoint.join(',')\n  }\n\n  endMove() {\n    const { nudgeThreshold } = this.options;\n    this.dragging = false;\n\n    this.axis.forEach(axis => {\n      const { position, velocity } = this[axis];\n      const minDiff = position - this.minEdge[axis];\n      const maxDiff = this.maxEdge[axis] - position;\n\n      let outOfBounds = false;\n      if (velocity === 0 && minDiff < 0) { this[axis].velocity = -0.01; outOfBounds = true; }\n      if (velocity === 0 && maxDiff < 0) { this[axis].velocity = 0.01; outOfBounds = true; }\n      if (nudgeThreshold === 0 || outOfBounds) return; // if we are allowed to float don't worry about anything else!\n\n      const dir = velocity > 0 ? 'max' : 'min';\n      const info = {\n        min: this.goto(`${axis}-min`, 0, true),\n        max: this.goto(`${axis}-max`, 0, true),\n      };\n\n      if (Math.abs(velocity) < Math.abs(info[dir][axis])) {\n        let positionPercentage = ((this[axis].position - this.minEdge[axis]) / (this.maxEdge[axis] - this.minEdge[axis])) * 100;\n        // this is not working properly, we need to know which edge the item started \n        // closest to in order to know which to snap back to\n        const closestEdge = positionPercentage > 50 ? 'max' : 'min';\n        const opClosestEdge = positionPercentage <= 50 ? 'max' : 'min';\n        positionPercentage = positionPercentage > 50 ? 100 - positionPercentage : positionPercentage;\n        this[axis].velocity = info[positionPercentage < nudgeThreshold ? closestEdge : opClosestEdge][axis];\n      }\n    });\n\n    if (this.x.velocity === 0) this.x.settled = true;\n    if (this.y.velocity === 0) this.y.settled = true;\n  }\n\n  goto(direction, overshootOverride, justInfo) {\n    const instructions = {};\n    const info = {x: null, y: null};\n\n    direction.split(',').forEach(d => {\n      const [axis, bound] = d.split('-');\n      instructions[axis] = bound;\n    });\n\n    const { friction, mass } = this.options;\n    let { scale, overshoot } = this.surface.options;\n    if (overshootOverride !== undefined) overshoot = overshootOverride;\n    const frictionForce = friction * (mass * gravity);\n\n    const positionParts = new Map();\n    this.axis.forEach(axis => {\n      const instruction = instructions[axis];\n      if (!instruction) return;\n      positionParts.set(axis, toMeters((instruction === 'max' ? this.maxEdge[axis] : this.minEdge[axis]) - this[axis].position, scale));\n    });\n\n    this.axis.forEach(axis => {\n      const instruction = instructions[axis];\n      if (!instruction) return;\n\n      const otherAxis = axis === 'y' ? 'x' : 'y';\n      let positionDelta = positionParts.get(axis);\n      let otherPositionDelta = positionParts.get(otherAxis);\n\n      let frictionMultiplier = 1;\n      if (otherPositionDelta) {\n        frictionMultiplier = Math.abs(positionDelta)/(Math.abs(otherPositionDelta) + Math.abs(positionDelta));\n      }\n\n      if (positionDelta === 0) return;\n      positionDelta *= (1 + ((overshoot) / 100))\n\n      info[axis] = Math.sqrt(2 * ((frictionForce * frictionMultiplier) / mass) * Math.abs(positionDelta));\n      info[axis] *= positionDelta >= 0 ? 1 : -1;\n\n      if (!justInfo) {\n        this.resetAxis(axis);\n        this[axis].velocity = info[axis];\n      }\n    });\n\n    if (justInfo) return info;\n    if (!this.x.settled || !this.y.settled) app.beginMotion(this);\n  }\n\n  updateMotion(timeDelta) {\n    const { friction, mass } = this.options;\n    const { scale } = this.surface.options;\n\n    const axisCoefficients = {\n      x: (Math.abs(this.x.velocity)/(Math.abs(this.y.velocity) + Math.abs(this.x.velocity))),\n      y: (Math.abs(this.y.velocity)/(Math.abs(this.y.velocity) + Math.abs(this.x.velocity))),\n    };\n\n    this.axis.forEach(axis => {\n      if (this.dragging) {\n        let pullCoefficient = 1;\n        if (this[axis].position < this.minEdge[axis] || this[axis].position > this.maxEdge[axis]) {\n          pullCoefficient = this.surface.options.boundaryPullSpring<= this.surface.options.boundarySpring\n            ? (this.surface.options.boundaryPullSpring / this.surface.options.boundarySpring) / 2\n            : 1 - ((this.surface.options.boundarySpring / this.surface.options.boundaryPullSpring) / 2);\n        }\n\n        const positionDelta = pullCoefficient * (app.cursor[axis] === undefined || app.cursorLast[axis] === undefined ? 0 : app.cursor[axis] - app.cursorLast[axis]);\n        this[`position${axis}`] += positionDelta;\n        const newVelocity = toMeters(positionDelta, scale) / timeDelta;\n        const velocityDelta = newVelocity - this[axis].velocity;\n        this[axis].velocity = newVelocity;\n        this[axis].acceleration = velocityDelta / timeDelta;\n      } else {\n        this[`position${axis}`] += toPixels(this[axis].velocity * timeDelta, scale);\n\n        let frictionForce = friction * (mass * gravity) * (this[axis].velocity > 0 ? -1 : 1);\n        frictionForce *= axisCoefficients[axis]; // friction is inline with vector magnitude, so we need to adjust\n\n        const forces = [frictionForce]; // friction is always a thing\n\n        if (this[axis].hittingMax || (this[axis].velocity >= 0 && this[axis].position > this.maxEdge[axis])) {\n          if (!this[axis].hittingMax) this.callBoundaryCallbacks(`${axis}-max`);\n          this[axis].hittingMax = true;\n          forces.push(this.surface.options.boundarySpring * (this.maxEdge[axis] - this[axis].position)); // force of spring\n        }\n\n        if (this[axis].hittingMin || (this[axis].velocity <= 0 && this[axis].position < this.minEdge[axis])) {\n          if (!this[axis].hittingMin) this.callBoundaryCallbacks(`${axis}-min`);\n          this[axis].hittingMin = true;\n          forces.push(this.surface.options.boundarySpring * (this.minEdge[axis] - this[axis].position)); // force of spring\n        }\n\n        if (this[axis].hittingMin || this[axis].hittingMax) forces.push(this.surface.options.boundarySpringDamping * -this[axis].velocity); // force of damper\n\n        this[axis].acceleration = forces.reduce((sum, x) => sum + x, 0) / mass;\n        const newVelocity = this[axis].velocity + (this[axis].acceleration * timeDelta);\n\n        if (this[axis].hittingMin || this[axis].hittingMax && newVelocity * this[axis].velocity <= 0) {\n          this[axis].occilationAmplitudes.push(Math.abs((this[axis].hittingMax ? this.maxEdge[axis] : this.minEdge[axis]) - this[axis].position));\n        }\n\n        this[axis].velocity = newVelocity * this[axis].velocity <= 0 && !(this[axis].hittingMin || this[axis].hittingMax) ? 0 : newVelocity;\n\n        if (this[axis].occilationAmplitudes.length >= 5) {\n          let total = 0;\n          for (let i = this[axis].occilationAmplitudes.length - 1; i >= this[axis].occilationAmplitudes.length - 6; i--) {\n            total += this[axis].occilationAmplitudes[i];\n          }\n\n          if (total / 5 < 1) {\n            this[axis].velocity = 0;\n            // set position exactly as it should be on the limit\n            this[`position${axis}`] = this[axis].hittingMax ? this.maxEdge[axis] : this.minEdge[axis];\n          }\n        }\n\n        if (this[axis].velocity === 0) this[axis].settled = true;\n      }\n    });\n  }\n\n  onPositionChange(fn) {\n    this.positionCallbacks.push(fn);\n  }\n\n  // add a callback to be called when a boundary is hit\n  onBoundaryContact(boundary, fn) {\n    this.boundaryCallbacks[boundary].push(fn);\n  }\n\n  // internal funcs\n\n  callBoundaryCallbacks(boundary) {\n    this.boundaryCallbacks[boundary].forEach(fn => fn());\n  }\n\n  callPositionCallbacks() {\n    const x = this.x.position;\n    const y = this.y.position;\n    const xd = this.maxEdge.x - this.minEdge.x;\n    const yd = this.maxEdge.y - this.minEdge.y;\n    this.positionCallbacks.forEach(fn => fn({x, y, xp: (x - this.minEdge.x) / xd, yp: (y - this.minEdge.y) / yd}));\n  }\n}"],"names":[],"mappings":"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"}